<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Global - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-webjerk-snaps.html">webjerk-snaps</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-webjerk-snaps.html#~main">main</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-webjerk-snaps.html#~post">post</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#onSnapDefinitionsFromWindow">onSnapDefinitionsFromWindow</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Global</h1>
    

    




<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="onSnapDefinitionsFromWindow"><span class="type-signature"></span>onSnapDefinitionsFromWindow<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Enables executing code at to compute SnapDefintions at runtime.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


    
</div>



</div>
        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<div class="section-method">

    

    <h4 class="name" id="onPostSnap"><span class="type-signature"></span>onPostSnap<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Run code after a snap has been captured.
See <a href="global.html#onPreSnap">onPreSnap</a>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line43">line 43</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#onPreSnap">onPreSnap</a></li>
        </ul>
    </dd>
    

    
</dl>























</div>
            
                
<div class="section-method">

    

    <h4 class="name" id="onPreSnap"><span class="type-signature"></span>onPreSnap<span class="signature">(snapDefinition, browserName, browserDriver)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Run arbitrary code before <code>snapDefinition.selector</code> is
captured.</p>
<p><strong>WARNING</strong> this code must be serializable, or serialized in
advanced.  This is because this code is run by a different process--a docker
processes.  Because we execute in a docker context, the docker process is
responsible for calling the method.  Therefore, make this code as simple
as possible, or if you absolutely must have complexity here (please don't),
you can bundle your JS into a string and eval it in.  PRs welcome if folks want
to build in rollup/webpack/etc to do this automatically.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line11">line 11</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>snapDefinition</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#SnapDefinition">SnapDefinition</a></code></span>


            
            </td>

            

            

            <td class="description last">
                <p>snap definition for element about to be captured</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>browserName</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>chrome, firefox, etc</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>browserDriver</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>browser adapter used to perform screenshots</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>can be async or sync.</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// example: run code in the browser context to ready it for snapping
// https://github.com/GoogleChrome/puppeteer/blob/6512ce768ddce790095e2201d8ada3c24407fc57/docs/api.md#pageevaluatepagefunction-args
{
  selector: '#test',
  name: 'test',
  onPreSnap: function revealElement (snapDefinition, browserName, browserDriver) {
    if (browserName.match(/chrome/i)) {
      browserDriver.evaluate(function revealElement (selector) {
        return window.myApp.show(selector)
      }, snapDefinition.selector)
    }
  }
}</code></pre>

</div>

</div>
            
                
<div class="section-members">
<h4 class="name" id="SnapDefinition">SnapDefinition</h4>








    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>selector</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>css selector for single element to capture</p></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>basename for .png file</p></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>onPreSnap</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#onPreSnap">onPreSnap</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>run code before a capture</p></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>onPostSnap</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#onPostSnap">onPostSnap</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>run code after a capture</p></td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

            
                
<div class="section-members">
<h4 class="name" id="SnapsConfig">SnapsConfig</h4>








    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>staticDirectory</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>runId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    Date.now()
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>snapDefinitions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="global.html#SnapDefinition">SnapDefinition</a>></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>snapDefinitionsFromWindow</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#onSnapDefinitionsFromWindow">onSnapDefinitionsFromWindow</a></code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>snapRunRoot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    `pwd`/snaps/run
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>snapRefRoot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    `pwd`/snaps/ref
                
                </td>
            

            <td class="description last"></td>
        </tr>

        

    

        <tr>
            
                <td class="name"><code>report</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>generate a static web-application to
highlight image changes. report will be placed into snaps/run/<run-id>-diff</p></td>
        </tr>

        

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line64">line 64</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>